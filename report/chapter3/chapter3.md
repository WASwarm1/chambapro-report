# Capítulo III: Requirements Specification

## 3.1. To-Be Scenario Mapping.

**Segmento 1: Clientes**

<table border="1" cellpadding="6" cellspacing="0">
  <thead>
    <tr>
      <th>Phases</th>
      <th>Descubrimiento</th>
      <th>Evaluación</th>
      <th>Contratación</th>
      <th>Pago y Postservicio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Doing</strong></td>
      <td>Se registra y navega en la plataforma buscando técnicos por categoría.</td>
      <td>Compara perfiles, precios y reseñas.</td>
      <td>Contacta y coordina detalles por chat interno.</td>
      <td>Realiza pago online con comprobante y evalúa al técnico.</td>
    </tr>
    <tr>
      <td><strong>Thinking</strong></td>
      <td>"Aquí encuentro varios técnicos verificados."</td>
      <td>"Puedo elegir al que más confianza me dé según las calificaciones."</td>
      <td>"Todo queda registrado en la plataforma."</td>
      <td>"Tengo respaldo y puedo dejar una reseña."</td>
    </tr>
    <tr>
      <td><strong>Feeling</strong></td>
      <td>Confianza, seguridad.</td>
      <td>Tranquilidad, control.</td>
      <td>Seguridad, menos riesgo.</td>
      <td>Satisfacción, seguridad.</td>
    </tr>
  </tbody>
</table>

**Segmento 2: Técnicos**

<table border="1" cellpadding="6" cellspacing="0">
  <thead>
    <tr>
      <th>Phases</th>
      <th>Descubrimiento</th>
      <th>Evaluación</th>
      <th>Contratación</th>
      <th>Pago y Postservicio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Doing</strong></td>
      <td>Se registra en la plataforma y crea su perfil.</td>
      <td>Actualiza portafolio, responde consultas en el chat interno.</td>
      <td>Acepta la solicitud y confirma disponibilidad desde la plataforma.</td>
      <td>Recibe pago seguro y gana reputación con reseñas.</td>
    </tr>
    <tr>
      <td><strong>Thinking</strong></td>
      <td>"Ahora los clientes pueden ver mi experiencia fácilmente."</td>
      <td>"Mi reputación está visible y puedo destacar entre la competencia."</td>
      <td>"Ya no dependo solo del boca a boca."</td>
      <td>"Mis trabajos quedan registrados para atraer más clientes."</td>
    </tr>
    <tr>
      <td><strong>Feeling</strong></td>
      <td>Orgullo, motivación.</td>
      <td>Confianza, profesionalismo.</td>
      <td>Confianza, alivio.</td>
      <td>Orgullo, estabilidad.</td>
    </tr>
  </tbody>
</table>

## 3.2. User Stories.

### Epics

| Epic | Título                               | Descripción                                                                                                                                                                                                              | Criterios de aceptación                                                                                                                                                                             |
|------|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EP01 | Información sobre startup y producto | Como visitante quiero visualizar información sobre ChambaPro y el equipo detrás del proyecto para conocer la propuesta de valor y generar confianza.                                                                     | Escenario: Dado que soy visitante, cuando entro a la sección "Sobre nosotros", entonces puedo ver la misión, visión, descripción del producto y al equipo fundador.                                 |
| EP02 | Beneficios y Features de producto    | Como visitante quiero ver los beneficios de usar ChambaPro para evaluar si me conviene.                                                                                                                                  | Escenario: Dado que estoy en la landing, cuando bajo hasta la sección de beneficios, entonces visualizo íconos, texto breve y ejemplos que muestran ventajas claras.                                |
| EP03 | Call to Action                       | Como visitante quiero encontrar botones de acción claros para registrarme en la app o contactar al equipo.                                                                                                               | Escenario: Dado que estoy en la landing, cuando llego a la parte superior e inferior, entonces encuentro botones visibles de “Regístrate” y “Contáctanos”.                                          |
| EP04 | Registro y autenticación             | Como usuario, quiero registrarme e iniciar sesión en la plataforma para acceder a mis funcionalidades de manera segura.                                                                                                  | Escenario: Dado que soy usuario, cuando ingreso mis credenciales o me registro, entonces puedo autenticarme y acceder a mi cuenta.                                                                  |
| EP05 | Analíticas                           | Como usuario, quiero acceder a mi historial de servicios y a reportes de uso para llevar un control de mis actividades y resultados.                                                                                     | Escenario: Dado que soy usuario, cuando entro a la sección de analíticas, entonces puedo ver mi historial de servicios y métricas relevantes.                                                       |
| EP06 | Servicios                            | Como cliente, quiero filtrar y buscar servicios por categoría y técnico para encontrar la mejor opción disponible de acuerdo a mis necesidades.                                                                          | Escenario: Dado que soy cliente, cuando utilizo los filtros de búsqueda, entonces obtengo resultados de técnicos que cumplen con mis criterios.                                                     |
| EP07 | Perfil de Técnico                    | Como cliente, quiero acceder al perfil detallado de los técnicos para conocer su experiencia, calificaciones y reseñas antes de contratarlos.                                                                            | Escenario: Dado que soy cliente, cuando accedo al perfil de un técnico, entonces puedo visualizar su información, calificaciones y reseñas.                                                         |
| EP08 | Pago                                 | Como cliente, quiero realizar pagos seguros dentro de la plataforma para completar la contratación de servicios y obtener comprobantes electrónicos.                                                                     | Escenario: Dado que soy cliente, cuando realizo un pago en la plataforma, entonces recibo confirmación y un comprobante digital.                                                                    |
| EP09 | Verificacion de Tecnicos             | Como tecnico, quiero estar verificado en la plataforma estén verificados para tener la seguridad de que cuento con las certificaciones y experiencia necesarias para realizar el trabajo de manera segura y profesional. | Escenario: Dado que soy tecnico nuevo, cuando me registro en la plataforma, entonces debo llenar un formulario de verificacion subiendo mis documentos(certificaciones, DNI, fotos de mis trabajos) |
| EP10 | Technical Stories                    | Desarrollo de endpoints necesarios                                                                                                                                                                                       |                                                                                                                                                                                                     |

### User Stories

| Story ID | Título                                          | Descripción                                                                                                                                                                                                                          | Criterios de Aceptación                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Relacionado con Epic ID |
|----------|-------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------|
| US 01    | Ver descripción del producto                    | Como visitante quiero ver qué problema resuelve ChambaPro para entender cómo puede ayudarme.                                                                                                                                         | Escenario: Dado que ingreso a la landing, cuando leo la descripción del producto, entonces veo en lenguaje claro su funcionalidad y beneficios principales.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | EP01                    |
| US 02    | Conocer al equipo fundador                      | Como visitante quiero conocer a los integrantes del equipo para confiar más en la startup.                                                                                                                                           | Escenario: Dado que ingreso a “Sobre nosotros”, cuando veo la sección del equipo, entonces aparecen fotos, nombres, roles y una breve descripción de cada miembro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | EP01                    |
| US 03    | Ver misión y visión                             | Como visitante quiero conocer la misión y visión de la startup para comprender su propósito.                                                                                                                                         | Escenario: Dado que estoy en la sección "Sobre nosotros", cuando leo la misión y visión, entonces entiendo los objetivos y valores de ChambaPro.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | EP01                    |
| US 04    | Ver beneficios para clientes                    | Como visitante que busca servicios quiero ver cómo ChambaPro me facilita encontrar técnicos confiables.                                                                                                                              | Escenario: Dado que estoy en la sección de beneficios, cuando leo las ventajas para clientes, entonces entiendo que puedo buscar, agendar y pagar de manera segura.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | EP02                    |
| US 05    | Ver beneficios para técnicos                    | Como visitante técnico quiero ver cómo ChambaPro me ayuda a conseguir más clientes y gestionar mis ingresos.                                                                                                                         | Escenario: Dado que estoy en la sección de beneficios, cuando leo las ventajas para técnicos, entonces entiendo que puedo registrarme, ofrecer servicios y recibir pagos seguros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | EP02                    |
| US 06    | Ver botón de registro                           | Como visitante quiero un botón de “Regístrate” visible para iniciar el proceso fácilmente.                                                                                                                                           | Escenario: Dado que estoy en la cabecera de la landing, cuando veo el botón de registro, entonces puedo hacer clic y redirigirme al formulario.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | EP03                    |
| US 07    | Ver botón de contacto                           | Como visitante quiero tener acceso rápido a contacto con ChambaPro para resolver dudas.                                                                                                                                              | Escenario: Dado que estoy en el pie de página, cuando veo la sección de contacto, entonces encuentro email, teléfono o formulario.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | EP03                    |
| US 08    | Registro de usuario                             | Como usuario, quiero registrar mis datos personales y correo electrónico para acceder a la plataforma                                                                                                                                | Escenario 1: Registro exitoso - Dado que el usuario ingresa datos válidos, cuando envía el formulario de registro, entonces el sistema crea la cuenta y muestra mensaje de éxito. Escenario 2: Registro fallido por correo repetido - Dado que el usuario ingresa un correo existente, cuando envía el formulario, entonces el sistema muestra un mensaje de error.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | EP04                    |
| US 09    | Inicio de sesión                                | Como usuario, quiero iniciar sesión con mis credenciales para acceder a mi cuenta                                                                                                                                                    | Escenario 1: Inicio exitoso - Dado que el usuario ingresa datos válidos, cuando ingresa correo y contraseña correctos, entonces el sistema lo dirige a su panel. Escenario 2: Inicio fallido - Dado que el usuario ingresa credenciales inválidas, cuando intenta iniciar sesión, entonces el sistema muestra un mensaje de error.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | EP04                    |
| US 10    | Historial de servicios                          | Como usuario, quiero ver un historial de servicios solicitados para revisar mis actividades anteriores                                                                                                                               | Escenario 1: Consulta de historial - Dado que el usuario tiene servicios registrados, cuando accede al historial de servicios, entonces el sistema muestra fecha, técnico, costo y estado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | EP05                    |
| US 11    | Agenda/Reservas                                 | Como técnico, quiero ver un calendario de reservas para organizar mi tiempo y evitar conflictos                                                                                                                                      | Escenario 1: Visualización de agenda - Dado que el técnico tiene servicios confirmados, cuando accede a su agenda, entonces el sistema muestra citas con fecha y hora.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | EP05                    |
| US 12    | Panel de estadísticas                           | Como técnico, quiero ver estadísticas de mis servicios para analizar mi desempeño                                                                                                                                                    | Escenario 1: Consulta de métricas - Dado que el técnico tiene servicios completados, cuando abre el panel de estadísticas, entonces el sistema muestra ingresos, calificaciones y cantidad de servicios.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | EP06                    |
| US 13    | Verificacion de Identidad de Tecnico            | Como técnico, quiero estar verificado en la plataforma para estar seguro de que tengo las certificaciones y experiencia requeridas para ejecutar el trabajo de una manera segura y profesional.                                      | Escenario 1: Como soy técnico nuevo, cuando me registro en la plataforma tengo que completar un formulario de verificación subiendo mis documentos (certificaciones, DNI y fotografías de mi trabajo).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | EP09                    |
| US 14    | Filtrado por Tipo de Servicio                   | Como cliente, quiero filtrar técnicos por servicio para encontrar especialistas en lo que necesito                                                                                                                                   | Escenario 1: Filtrado por categoría - Dado que el cliente selecciona un servicio, cuando aplica el filtro, entonces el sistema muestra solo técnicos de esa categoría.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | EP06                    |
| US 15    | Filtrado por Técnico                            | Como cliente, quiero buscar un técnico por su nombre para contratar directamente a la persona que conozco                                                                                                                            | Escenario 1: Búsqueda por nombre - Dado que el cliente ingresa el nombre de un técnico, cuando ejecuta la búsqueda, entonces el sistema muestra el perfil del técnico.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | EP06                    |
| US 16    | Filtros combinados                              | Como cliente, quiero aplicar filtros combinados de categoría y ubicación para encontrar el técnico más adecuado                                                                                                                      | Escenario 1: Búsqueda avanzada - Dado que el cliente selecciona múltiples filtros, cuando realiza la búsqueda, entonces el sistema muestra solo técnicos que cumplen con todos los criterios.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | EP06                    |
| US 17    | Visualizar perfil                               | Como cliente, quiero ver el perfil del técnico para conocer sus datos, experiencia y certificaciones                                                                                                                                 | Escenario 1: Acceso a perfil - Dado que el cliente selecciona un técnico, cuando abre su perfil, entonces el sistema muestra información general, experiencia y servicios.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | EP07                    |
| US 18    | Reseñas de clientes                             | Como cliente, quiero dejar mi reseña después de un servicio para compartir mi experiencia con otros                                                                                                                                  | Escenario 1: Envío de reseña - Dado que el cliente completó un servicio, cuando redacta su reseña y calificación, entonces el sistema la publica en el perfil del técnico.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | EP07                    |
| US 19    | Métodos de pago                                 | Como cliente, quiero elegir entre diferentes métodos de pago para completar mi transacción                                                                                                                                           | Escenario 1: Selección de método - Dado que el cliente confirma el servicio, cuando selecciona tarjeta o billetera digital, entonces el sistema procesa el pago.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | EP08                    |
| US 20    | Confirmación de pago                            | Como cliente, quiero recibir confirmación de mi pago para tener seguridad de que la transacción fue exitosa                                                                                                                          | Escenario 1: Pago exitoso - Dado que el sistema valida el pago, cuando se finaliza la transacción, entonces muestra mensaje de confirmación y envía comprobante digital. Escenario 2: Error en transacción - Dado que el cliente ingresa datos inválidos o fondos insuficientes, cuando procesa el pago, entonces el sistema muestra un mensaje de error y permite reintentar.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | EP08                    |
| TS1      | Obtener reservas por cliente o técnico          | Como desarrollador, quiero obtener las reservas filtradas por clientId o technicianId a través del endpoint RESTful `/api/v1/reservations` para construir las vistas de reservas del cliente y del técnico en el frontend.           | **Escenario 1: Obtener todas las reservas sin filtros** <br> Dado que el endpoint `/api/v1/reservations` está disponible, <br> Cuando se realiza una solicitud GET sin parámetros de consulta, <br> Entonces la respuesta debe tener estado 200 <br> Y el cuerpo debe incluir una lista con todas las reservas registradas. <br><br> **Escenario 2: Filtrar reservas por clientId** <br> Dado que existen múltiples reservas en la base de datos, <br> Cuando se realiza una solicitud GET a `/api/v1/reservations?clientId={id}`, <br> Entonces la respuesta debe tener estado 200 <br> Y solo deben devolverse las reservas asociadas al cliente con ese id. <br><br> **Escenario 3: Filtrar reservas por technicianId** <br> Dado que existen reservas asignadas a técnicos, <br> Cuando se realiza una solicitud GET a `/api/v1/reservations?technicianId={id}`, <br> Entonces la respuesta debe tener estado 200 <br> Y solo deben devolverse las reservas asignadas al técnico con ese id. <br><br> **Escenario 4: Cada reserva incluye información completa** <br> Dado que se obtienen las reservas, <br> Cuando se recibe la respuesta, <br> Entonces cada reserva debe incluir: <br> - Id de la reserva <br> - Fecha y hora <br> - Descripción <br> - ClientId <br> - CategoryId <br> - TechnicianId (si está asignado) <br> - Estado de la reserva <br><br> **Escenario 5: Respuesta vacía si no hay reservas** <br> Dado que no existen reservas para los filtros especificados, <br> Cuando se realiza una solicitud GET, <br> Entonces la respuesta debe tener estado 200 <br> Y el cuerpo debe ser una lista vacía.                                                                                                                                                                                                       | EP10                    |
| TS2      | Crear nueva reserva                             | Como desarrollador, quiero crear una nueva reserva a través del endpoint RESTful `/api/v1/reservations` para que los clientes puedan registrar solicitudes de servicio desde el frontend.                                            | **Escenario 1: Crear reserva con datos válidos** <br> Dado que el endpoint `/api/v1/reservations` está disponible, <br> Cuando se envía una solicitud POST con: <br> - Fecha futura válida <br> - Hora válida <br> - Descripción de al menos 10 caracteres <br> - ClientId válido <br> - CategoryId válido, <br> Entonces la respuesta debe tener estado 201, <br> Y el cuerpo debe incluir el recurso de la reserva creada con estado "Pending". <br><br> **Escenario 2: Error al crear reserva con fecha pasada** <br> Dado que el endpoint `/api/v1/reservations` está disponible, <br> Cuando se envía una solicitud POST con una fecha en el pasado, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la fecha debe ser futura. <br><br> **Escenario 3: Error por descripción muy corta** <br> Dado que el endpoint `/api/v1/reservations` está disponible, <br> Cuando se envía una solicitud POST con descripción menor a 10 caracteres, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la descripción debe tener al menos 10 caracteres. <br><br> **Escenario 4: Validación de límite de reservas pendientes** <br> Dado que un cliente ya tiene 5 reservas con estado "Pending", <br> Cuando intenta crear una sexta reserva, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no puede tener más de 5 reservas pendientes. <br><br> **Escenario 5: Error al reservar con más de 30 días de anticipación** <br> Dado que el endpoint `/api/v1/reservations` está disponible, <br> Cuando se envía una solicitud POST con fecha mayor a 30 días en el futuro, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden hacer reservas con más de 30 días de anticipación. | EP10                    |
| TS3      | Actualizar reserva existente                    | Como desarrollador, quiero actualizar una reserva existente a través del endpoint RESTful `/api/v1/reservations/{id}` para permitir modificaciones de estado, asignación de técnicos y cambios de información.                       | **Escenario 1: Actualizar reserva con datos válidos** <br> Dado que existe una reserva con estado "Pending" o "Assigned", <br> Cuando se envía una solicitud PUT a `/api/v1/reservations/{id}` con datos válidos, <br> Entonces la respuesta debe tener estado 200, <br> Y el cuerpo debe incluir la reserva actualizada. <br><br> **Escenario 2: Asignar técnico a reserva pendiente** <br> Dado que una reserva tiene estado "Pending", <br> Cuando se actualiza con un TechnicianId válido, <br> Entonces el estado debe cambiar automáticamente a "Assigned", <br> Y la respuesta debe reflejar estos cambios. <br><br> **Escenario 3: Error al modificar reserva completada** <br> Dado que una reserva tiene estado "Completed", <br> Cuando se intenta actualizarla, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden modificar reservas completadas. <br><br> **Escenario 4: Error al modificar reserva cancelada** <br> Dado que una reserva tiene estado "Cancelled", <br> Cuando se intenta actualizarla, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden modificar reservas canceladas. <br><br> **Escenario 5: Validación de completado solo desde estado "Assigned"** <br> Dado que una reserva no tiene estado "Assigned", <br> Cuando se intenta cambiar su estado a "Completed", <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que solo reservas asignadas pueden completarse.                                                                                                                                                                                                                                                                                                    | EP10                    |
| TS4      | Cancelar reserva                                | Como desarrollador, quiero cancelar una reserva a través del endpoint RESTful `/api/v1/reservations/{id}/cancel` para permitir que clientes y técnicos cancelen servicios cuando sea necesario.                                      | **Escenario 1: Cancelar reserva con tiempo suficiente** <br> Dado que una reserva está programada con más de 2 horas de anticipación, <br> Cuando se envía una solicitud PATCH a `/api/v1/reservations/{id}/cancel`, <br> Entonces la respuesta debe tener estado 200, <br> Y el estado de la reserva debe cambiar a "Cancelled". <br><br> **Escenario 2: Error al cancelar con menos de 2 horas de anticipación** <br> Dado que una reserva está programada en menos de 2 horas, <br> Cuando se intenta cancelarla, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se puede cancelar con menos de 2 horas de anticipación. <br><br> **Escenario 3: Error al cancelar reserva ya completada** <br> Dado que una reserva tiene estado "Completed", <br> Cuando se intenta cancelarla, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden cancelar reservas completadas. <br><br> **Escenario 4: Error al cancelar reserva ya cancelada** <br> Dado que una reserva ya tiene estado "Cancelled", <br> Cuando se intenta cancelarla nuevamente, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la reserva ya está cancelada. <br><br> **Escenario 5: Reserva no encontrada** <br> Dado que no existe una reserva con el id especificado, <br> Cuando se intenta cancelarla, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que la reserva no fue encontrada.                                                                                                                                                                                                                                                                                                                | EP10                    |
| TS5      | Obtener servicios por cliente o técnico         | Como desarrollador, quiero obtener los servicios filtrados por clientId o technicianId a través del endpoint RESTful `/api/v1/services` para mostrar el historial de servicios en las vistas de cliente y técnico.                   | **Escenario 1: Obtener todos los servicios sin filtros** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se realiza una solicitud GET sin parámetros, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir una lista con todos los servicios registrados. <br><br> **Escenario 2: Filtrar servicios por clientId** <br> Dado que existen servicios en la base de datos, <br> Cuando se realiza una solicitud GET a `/api/v1/services/client/{clientId}`, <br> Entonces la respuesta debe tener estado 200, <br> Y solo deben devolverse los servicios del cliente especificado. <br><br> **Escenario 3: Filtrar servicios por technicianId** <br> Dado que existen servicios asignados a técnicos, <br> Cuando se realiza una solicitud GET a `/api/v1/services/technician/{technicianId}`, <br> Entonces la respuesta debe tener estado 200, <br> Y solo deben devolverse los servicios del técnico especificado. <br><br> **Escenario 4: Cada servicio incluye información completa** <br> Dado que se obtienen los servicios, <br> Cuando se recibe la respuesta, <br> Entonces cada servicio debe incluir: <br> - Id del servicio <br> - ClientId y TechnicianId <br> - Fecha y hora <br> - Descripción y categoría <br> - Estado del servicio <br> - Costo, duración y dirección <br><br> **Escenario 5: Respuesta vacía si no hay servicios** <br> Dado que no existen servicios para el filtro especificado, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 200, <br> Y el cuerpo debe ser una lista vacía.                                                                                                                                                                                                                                     | EP10                    |
| TS6      | Crear nuevo servicio                            | Como desarrollador, quiero crear un nuevo servicio a través del endpoint RESTful `/api/v1/services` para registrar servicios acordados entre cliente y técnico en la base de datos.                                                  | **Escenario 1: Crear servicio con datos válidos** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se envía una solicitud POST con: <br> - ClientId válido <br> - TechnicianId válido <br> - Fecha, hora, descripción <br> - Categoría, costo, duración y dirección, <br> Entonces la respuesta debe tener estado 201, <br> Y el servicio debe crearse con estado "Pending". <br><br> **Escenario 2: Error con clientId inválido** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se envía una solicitud POST con un ClientId que no existe, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que el cliente no fue encontrado. <br><br> **Escenario 3: Error con technicianId inválido** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se envía una solicitud POST con un TechnicianId que no existe, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que el técnico no fue encontrado. <br><br> **Escenario 4: Error con campos requeridos vacíos** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se envía una solicitud POST sin descripción, categoría o dirección, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar qué campos están incompletos. <br><br> **Escenario 5: Error con costo negativo o cero** <br> Dado que el endpoint `/api/v1/services` está disponible, <br> Cuando se envía una solicitud POST con costo menor o igual a cero, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que el costo debe ser mayor a cero.                                                                                                                                                 | EP10                    |
| TS7      | Actualizar estado de servicio                   | Como desarrollador, quiero actualizar el estado de un servicio a través de endpoints RESTful específicos para permitir confirmar, completar o cancelar servicios según el flujo de trabajo.                                          | **Escenario 1: Confirmar servicio pendiente** <br> Dado que un servicio tiene estado "Pending", <br> Cuando se envía una solicitud PATCH a `/api/v1/services/{id}/confirm`, <br> Entonces la respuesta debe tener estado 200, <br> Y el estado debe cambiar a "Confirmed". <br><br> **Escenario 2: Completar servicio confirmado** <br> Dado que un servicio tiene estado "Confirmed", <br> Cuando se envía una solicitud PATCH a `/api/v1/services/{id}/complete`, <br> Entonces la respuesta debe tener estado 200, <br> Y el estado debe cambiar a "Completed". <br><br> **Escenario 3: Cancelar servicio no completado** <br> Dado que un servicio tiene estado "Pending" o "Confirmed", <br> Cuando se envía una solicitud PATCH a `/api/v1/services/{id}/cancel`, <br> Entonces la respuesta debe tener estado 200, <br> Y el estado debe cambiar a "Cancelled". <br><br> **Escenario 4: Error al confirmar servicio cancelado** <br> Dado que un servicio tiene estado "Cancelled", <br> Cuando se intenta confirmar o completar el servicio, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden modificar servicios cancelados. <br><br> **Escenario 5: Error al cancelar servicio completado** <br> Dado que un servicio tiene estado "Completed", <br> Cuando se intenta cancelarlo, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que no se pueden cancelar servicios completados.                                                                                                                                                                                                                                                                                                                                                          | EP10                    |
| TS8      | Obtener reseñas de un técnico                   | Como desarrollador, quiero obtener las reseñas de un técnico a través del endpoint RESTful `/api/v1/review/technician/{technicianId}` para mostrar las calificaciones y comentarios en el perfil del técnico.                        | **Escenario 1: Obtener reseñas de técnico con calificaciones** <br> Dado que el endpoint está disponible y el técnico tiene reseñas, <br> Cuando se realiza una solicitud GET a `/api/v1/review/technician/{technicianId}`, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir una lista con todas las reseñas del técnico. <br><br> **Escenario 2: Cada reseña incluye información completa** <br> Dado que se obtienen las reseñas de un técnico, <br> Cuando se recibe la respuesta, <br> Entonces cada reseña debe incluir: <br> - Id de la reseña <br> - Calificación (rating) <br> - Comentario <br> - Nombre del cliente (placeholder) <br> - Fecha de creación <br><br> **Escenario 3: Respuesta vacía si el técnico no tiene reseñas** <br> Dado que un técnico no tiene reseñas registradas, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 200, <br> Y el cuerpo debe contener una lista vacía. <br><br> **Escenario 4: Error con technicianId inválido** <br> Dado que el technicianId especificado no existe, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que el técnico no fue encontrado. <br><br> **Escenario 5: Las reseñas están ordenadas por fecha descendente** <br> Dado que un técnico tiene múltiples reseñas, <br> Cuando se obtienen las reseñas, <br> Entonces deben estar ordenadas de más reciente a más antigua.                                                                                                                                                                                                                                                                                                                                                   | EP10                    |
| TS9      | Crear nueva reseña                              | Como desarrollador, quiero crear una nueva reseña a través del endpoint RESTful `/api/v1/review` para permitir que los clientes califiquen y comenten sobre los servicios recibidos.                                                 | **Escenario 1: Crear reseña con datos válidos** <br> Dado que el endpoint `/api/v1/review` está disponible, <br> Cuando se envía una solicitud POST con: <br> - TechnicianId válido <br> - ClientId válido <br> - Rating entre 1 y 5 <br> - Comentario, <br> Entonces la respuesta debe tener estado 201, <br> Y debe incluir un mensaje de confirmación. <br><br> **Escenario 2: Error con rating fuera de rango** <br> Dado que el endpoint `/api/v1/review` está disponible, <br> Cuando se envía una solicitud POST con rating menor a 1 o mayor a 5, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la calificación debe estar entre 1 y 5. <br><br> **Escenario 3: Error con technicianId inválido** <br> Dado que el endpoint `/api/v1/review` está disponible, <br> Cuando se envía una solicitud POST con un TechnicianId que no existe, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que el técnico no fue encontrado. <br><br> **Escenario 4: Error con clientId inválido** <br> Dado que el endpoint `/api/v1/review` está disponible, <br> Cuando se envía una solicitud POST con un ClientId que no existe, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar que el cliente no fue encontrado. <br><br> **Escenario 5: Comentario opcional** <br> Dado que el endpoint `/api/v1/review` está disponible, <br> Cuando se envía una solicitud POST sin comentario pero con rating válido, <br> Entonces la respuesta debe tener estado 201, <br> Y la reseña debe crearse correctamente con comentario vacío.                                                                                                                                                                                                      | EP10                    |
| TS10     | Obtener perfil de usuario autenticado           | Como desarrollador, quiero obtener el perfil del usuario actual a través del endpoint RESTful `/api/v1/users/me` para mostrar la información del usuario autenticado en el frontend.                                                 | **Escenario 1: Obtener perfil con token válido** <br> Dado que un usuario está autenticado con token JWT válido, <br> Cuando se realiza una solicitud GET a `/api/v1/users/me` con el token en el header, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir toda la información del perfil del usuario. <br><br> **Escenario 2: Información de perfil de cliente** <br> Dado que el usuario autenticado es de tipo "Client", <br> Cuando se obtiene el perfil, <br> Entonces la respuesta debe incluir: <br> - Id, email, nombre, apellido <br> - Teléfono, avatar <br> - UserType: "Client" <br> - Fecha de creación <br><br> **Escenario 3: Información de perfil de técnico** <br> Dado que el usuario autenticado es de tipo "Technician", <br> Cuando se obtiene el perfil, <br> Entonces la respuesta debe incluir además: <br> - Especialidad, descripción, experiencia <br> - Rating y número de reseñas <br> - Tarifa por hora <br> - Estado de disponibilidad <br><br> **Escenario 4: Error sin token de autenticación** <br> Dado que no se proporciona token en el header, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 401, <br> Y el mensaje debe indicar "Not Authenticated". <br><br> **Escenario 5: Error con token inválido o expirado** <br> Dado que se proporciona un token inválido o expirado, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 401, <br> Y el mensaje debe indicar "Unauthorized".                                                                                                                                                                                                                                                                                                             | EP10                    |
| TS11     | Actualizar perfil de usuario                    | Como desarrollador, quiero actualizar el perfil de usuario a través del endpoint RESTful `/api/v1/users/{id}/profile` para permitir que los usuarios modifiquen su información personal.                                             | **Escenario 1: Actualizar perfil con datos válidos** <br> Dado que un usuario está autenticado, <br> Cuando envía una solicitud PUT a `/api/v1/users/{id}/profile` con: <br> - Nombre, apellido, teléfono válidos <br> - Avatar (opcional), <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir el perfil actualizado. <br><br> **Escenario 2: Error al intentar actualizar perfil de otro usuario** <br> Dado que un usuario intenta actualizar un perfil con id diferente al suyo, <br> Cuando se envía la solicitud PUT, <br> Entonces la respuesta debe tener estado 401, <br> Y el mensaje debe indicar "Unauthorized to update profile". <br><br> **Escenario 3: Validación de campos requeridos** <br> Dado que se envía una solicitud con campos requeridos vacíos, <br> Cuando se intenta actualizar el perfil, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar qué campos son obligatorios. <br><br> **Escenario 4: Avatar se mantiene si no se proporciona** <br> Dado que no se incluye avatar en la solicitud de actualización, <br> Cuando se actualiza el perfil, <br> Entonces el avatar actual debe mantenerse sin cambios. <br><br> **Escenario 5: Usuario no encontrado** <br> Dado que el userId no existe en la base de datos, <br> Cuando se intenta actualizar, <br> Entonces la respuesta debe tener estado 404, <br> Y el mensaje debe indicar "User not found".                                                                                                                                                                                                                                                                                                                                                                                             | EP10                    |
| TS12     | Actualizar perfil de técnico                    | Como desarrollador, quiero actualizar el perfil profesional de un técnico a través del endpoint RESTful `/api/v1/users/{id}/technician-profile` para permitir que los técnicos gestionen su información profesional específica.      | **Escenario 1: Actualizar perfil de técnico con datos válidos** <br> Dado que un técnico está autenticado, <br> Cuando envía una solicitud PUT con: <br> - Especialidad válida <br> - Descripción de al menos 20 caracteres <br> - Experiencia, tarifa entre 10-500 soles <br> - Estado de disponibilidad, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir el perfil técnico actualizado. <br><br> **Escenario 2: Error con tarifa fuera de rango** <br> Dado que se envía una tarifa menor a 10 o mayor a 500, <br> Cuando se intenta actualizar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la tarifa debe estar entre 10 y 500 soles. <br><br> **Escenario 3: Error con descripción muy corta** <br> Dado que se envía una descripción menor a 20 caracteres, <br> Cuando se intenta actualizar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que la descripción debe tener al menos 20 caracteres. <br><br> **Escenario 4: Error al actualizar perfil de usuario tipo cliente** <br> Dado que el usuario es de tipo "Client", <br> Cuando intenta actualizar perfil de técnico, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que solo técnicos pueden actualizar este perfil. <br><br> **Escenario 5: Validación de especialidades permitidas** <br> Dado que se envía una especialidad no válida, <br> Cuando se intenta actualizar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe listar las especialidades válidas.                                                                                                                                                                                                                                            | EP10                    |
| TS13     | Obtener todos los técnicos                      | Como desarrollador, quiero obtener la lista de todos los técnicos a través del endpoint RESTful `/api/v1/users/technicians` para mostrar los técnicos disponibles en el marketplace del frontend.                                    | **Escenario 1: Obtener lista completa de técnicos** <br> Dado que el endpoint `/api/v1/users/technicians` está disponible, <br> Cuando se realiza una solicitud GET, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir una lista con todos los usuarios de tipo "Technician". <br><br> **Escenario 2: Cada técnico incluye información completa** <br> Dado que se obtiene la lista de técnicos, <br> Cuando se recibe la respuesta, <br> Entonces cada técnico debe incluir: <br> - Id, email, nombre, apellido <br> - Teléfono, avatar <br> - Especialidad, descripción, experiencia <br> - Rating, número de reseñas <br> - Tarifa por hora <br> - Estado de disponibilidad <br><br> **Escenario 3: Respuesta vacía si no hay técnicos** <br> Dado que no existen usuarios de tipo "Technician", <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 200, <br> Y el cuerpo debe ser una lista vacía. <br><br> **Escenario 4: Técnicos ordenados por rating descendente** <br> Dado que existen múltiples técnicos con diferentes ratings, <br> Cuando se obtiene la lista, <br> Entonces los técnicos deben estar ordenados de mayor a menor rating. <br><br> **Escenario 5: Solo se incluyen técnicos activos** <br> Dado que existen técnicos con diferentes estados, <br> Cuando se obtiene la lista, <br> Entonces solo deben incluirse técnicos que no hayan sido eliminados o desactivados.                                                                                                                                                                                                                                                                                                                                                                               | EP10                    |
| TS14     | Obtener técnicos por especialidad               | Como desarrollador, quiero obtener técnicos filtrados por especialidad a través del endpoint RESTful `/api/v1/users/technicians/by-speciality/{speciality}` para permitir búsquedas específicas por tipo de servicio en el frontend. | **Escenario 1: Obtener técnicos de especialidad específica** <br> Dado que existen técnicos con diferentes especialidades, <br> Cuando se realiza una solicitud GET a `/api/v1/users/technicians/by-speciality/Plumbing`, <br> Entonces la respuesta debe tener estado 200, <br> Y solo deben devolverse técnicos con especialidad "Plumbing". <br><br> **Escenario 2: Filtro case-insensitive** <br> Dado que se realiza una búsqueda, <br> Cuando se envía la especialidad en minúsculas o mayúsculas, <br> Entonces el filtro debe funcionar sin importar el caso, <br> Y debe retornar los resultados correctos. <br><br> **Escenario 3: Especialidades válidas** <br> Dado que las especialidades permitidas son: Plumbing, Electrical, Carpentry, Painting, Locksmith, <br> Cuando se consulta por cualquiera de estas especialidades, <br> Entonces debe retornar los técnicos correspondientes. <br><br> **Escenario 4: Respuesta vacía si no hay técnicos de esa especialidad** <br> Dado que no existen técnicos con la especialidad consultada, <br> Cuando se realiza la solicitud GET, <br> Entonces la respuesta debe tener estado 200, <br> Y el cuerpo debe ser una lista vacía. <br><br> **Escenario 5: Validación de especialidad inválida** <br> Dado que se consulta por una especialidad no válida, <br> Cuando se realiza la solicitud, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar las especialidades válidas.                                                                                                                                                                                                                                                                                                                                                               | EP10                    |
| TS15     | Registro de usuario (Sign Up)                   | Como desarrollador, quiero registrar nuevos usuarios a través del endpoint RESTful `/api/v1/authentication/sign-up` para permitir que clientes y técnicos creen cuentas en el sistema.                                               | **Escenario 1: Registrar cliente con datos válidos** <br> Dado que el endpoint está disponible, <br> Cuando se envía una solicitud POST con: <br> - Email válido no registrado <br> - Password con al menos 8 caracteres, mayúsculas, minúsculas y números <br> - Nombre, apellido, teléfono <br> - UserType: "Client", <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir mensaje de registro exitoso. <br><br> **Escenario 2: Registrar técnico con datos válidos** <br> Dado que el endpoint está disponible, <br> Cuando se envía una solicitud POST con datos de cliente más: <br> - UserType: "Technician" <br> - Especialidad válida <br> - Descripción, experiencia <br> - Tarifa por hora mayor o igual a 10 soles, <br> Entonces la respuesta debe tener estado 200, <br> Y el usuario debe crearse con especialidad e información profesional. <br><br> **Escenario 3: Error con email ya registrado** <br> Dado que ya existe un usuario con el email proporcionado, <br> Cuando se intenta registrar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar "User with this email already exists". <br><br> **Escenario 4: Error con formato de email inválido** <br> Dado que se proporciona un email sin formato válido, <br> Cuando se intenta registrar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar "Invalid email format". <br><br> **Escenario 5: Error con password débil** <br> Dado que se proporciona un password que no cumple los requisitos, <br> Cuando se intenta registrar, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar los requisitos de la contraseña.                                                                                                                           | EP10                    |
| TS16     | Inicio de sesión (Sign In)                      | Como desarrollador, quiero autenticar usuarios a través del endpoint RESTful `/api/v1/authentication/sign-in` para permitir el acceso seguro al sistema con JWT.                                                                     | **Escenario 1: Login exitoso con credenciales válidas** <br> Dado que existe un usuario registrado, <br> Cuando se envía una solicitud POST con: <br> - Email y password correctos <br> - UserType correspondiente, <br> Entonces la respuesta debe tener estado 200, <br> Y debe incluir un token JWT válido y datos del usuario. <br><br> **Escenario 2: Token JWT contiene información correcta** <br> Dado que se realiza login exitoso, <br> Cuando se recibe el token, <br> Entonces debe contener claims de: <br> - UserId (NameIdentifier) <br> - Email <br> - Nombre completo <br> - UserType <br><br> **Escenario 3: Token con expiración de 7 días** <br> Dado que se genera un token, <br> Cuando se verifica la expiración, <br> Entonces debe ser válido por 7 días desde la generación. <br><br> **Escenario 4: Error con credenciales incorrectas** <br> Dado que se proporcionan credenciales inválidas, <br> Cuando se intenta login, <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar "User not found" o "Invalid password". <br><br> **Escenario 5: Validación de UserType en login** <br> Dado que un usuario es de tipo "Client", <br> Cuando intenta hacer login como "Technician", <br> Entonces la respuesta debe tener estado 400, <br> Y el mensaje debe indicar que el tipo de usuario no coincide.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | EP10                    |
| TS17     | Middleware de autorización                      | Como desarrollador, quiero implementar un middleware de autorización basado en JWT para proteger endpoints que requieren autenticación.                                                                                              | **Escenario 1: Validar token en header Authorization** <br> Dado que se realiza una petición a un endpoint protegido, <br> Cuando se incluye token válido en header "Authorization: Bearer {token}", <br> Entonces el middleware debe validar el token, <br> Y agregar el usuario a HttpContext.Items["User"]. <br><br> **Escenario 2: Permitir acceso con token válido** <br> Dado que el token es válido y no ha expirado, <br> Cuando se accede a un endpoint protegido, <br> Entonces la petición debe procesarse normalmente. <br><br> **Escenario 3: Bloquear acceso sin token** <br> Dado que no se proporciona token en el header, <br> Cuando se accede a un endpoint protegido sin [AllowAnonymous], <br> Entonces la respuesta debe tener estado 401, <br> Y el mensaje debe indicar "Unauthorized". <br><br> **Escenario 4: Bloquear acceso con token expirado** <br> Dado que el token ha expirado, <br> Cuando se intenta acceder a un endpoint protegido, <br> Entonces la respuesta debe tener estado 401, <br> Y el usuario no debe agregarse al contexto. <br><br> **Escenario 5: Atributo [AllowAnonymous] permite acceso sin token** <br> Dado que un endpoint tiene el atributo [AllowAnonymous], <br> Cuando se accede sin token, <br> Entonces la petición debe procesarse sin validación de autenticación.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | EP10                    |
| TS18     | Encriptación de contraseñas                     | Como desarrollador, quiero implementar encriptación segura de contraseñas usando BCrypt para proteger las credenciales de los usuarios en la base de datos.                                                                          | **Escenario 1: Hash de contraseña en registro** <br> Dado que un usuario se registra con una contraseña, <br> Cuando se procesa el registro, <br> Entonces la contraseña debe ser encriptada usando BCrypt con salt generado automáticamente, <br> Y solo el hash debe almacenarse en la base de datos. <br><br> **Escenario 2: Verificación de contraseña en login** <br> Dado que un usuario intenta hacer login, <br> Cuando se valida la contraseña, <br> Entonces debe usarse BCrypt.Verify para comparar, <br> Y no debe exponerse la contraseña en texto plano. <br><br> **Escenario 3: Cada hash es único** <br> Dado que dos usuarios tienen la misma contraseña, <br> Cuando se generan los hashes, <br> Entonces cada hash debe ser diferente debido al salt único. <br><br> **Escenario 4: Manejo de errores en verificación** <br> Dado que ocurre un error durante la verificación, <br> Cuando BCrypt.Verify lanza una excepción, <br> Entonces debe capturarse y retornar false sin exponer detalles del error. <br><br> **Escenario 5: Salt generado automáticamente** <br> Dado que se encripta una contraseña, <br> Cuando se llama a BCrypt.HashPassword, <br> Entonces debe generarse un salt único automáticamente, <br> Y no debe usarse un salt hardcodeado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | EP10                    |
| TS19     | Configuración de base de datos y DbContext      | Como desarrollador, quiero configurar correctamente el DbContext con MySQL para gestionar la persistencia de datos y migraciones de la base de datos.                                                                                | **Escenario 1: Conexión a MySQL configurada** <br> Dado que el servidor MySQL está disponible, <br> Cuando la aplicación inicia, <br> Entonces debe establecer conexión usando la cadena de conexión de appsettings, <br> Y debe usar el provider MySQL.EntityFrameworkCore. <br><br> **Escenario 2: Tablas creadas con convención snake_case** <br> Dado que se aplican las configuraciones del modelo, <br> Cuando se generan las tablas, <br> Entonces todas las tablas y columnas deben usar convención snake_case, <br> Y los nombres de tablas deben estar en plural. <br><br> **Escenario 3: Interceptor de auditoría configurado** <br> Dado que se usa EntityFrameworkCore.CreatedUpdatedDate, <br> Cuando se crea o actualiza una entidad, <br> Entonces los campos CreatedAt y UpdatedAt deben poblarse automáticamente. <br><br> **Escenario 4: Relaciones entre entidades configuradas** <br> Dado que existen relaciones entre Users, Reserves, Reviews y Services, <br> Cuando se configura el modelo, <br> Entonces deben establecerse foreign keys correctas, <br> Y debe usarse DeleteBehavior.Restrict para evitar cascadas. <br><br> **Escenario 5: Conversión de tipos personalizados** <br> Dado que TimeSpan y Enums se usan en el modelo, <br> Cuando se persisten datos, <br> Entonces TimeSpan debe convertirse a string formato "hh:mm:ss", <br> Y Enums deben almacenarse como strings.                                                                                                                                                                                                                                                                                                                                                                                                                      | EP10                    |
| TS20     | Repositorios base y Unit of Work                | Como desarrollador, quiero implementar el patrón Repository y Unit of Work para abstraer el acceso a datos y gestionar transacciones.                                                                                                | **Escenario 1: BaseRepository implementa operaciones CRUD** <br> Dado que se crea un repositorio específico, <br> Cuando hereda de BaseRepository<TEntity>, <br> Entonces debe tener disponibles métodos: <br> - AddAsync <br> - FindByIdAsync <br> - Update <br> - Remove <br> - ListAsync <br><br> **Escenario 2: Unit of Work gestiona SaveChanges** <br> Dado que se realizan múltiples operaciones, <br> Cuando se llama a unitOfWork.CompleteAsync(), <br> Entonces todos los cambios deben persistirse en una sola transacción. <br><br> **Escenario 3: Repositorios específicos extienden funcionalidad base** <br> Dado que se necesitan consultas específicas, <br> Cuando se implementa IUserRepository, IReserveRepository, etc., <br> Entonces deben incluir métodos específicos adicionales como: <br> - FindByEmailAsync <br> - FindByClientIdAsync <br> - FindByTechnicianIdAsync <br><br> **Escenario 4: Inyección de dependencias configurada** <br> Dado que se registran repositorios en Program.cs, <br> Cuando se solicita un repositorio en un servicio, <br> Entonces debe inyectarse la instancia correcta mediante DI. <br><br> **Escenario 5: Manejo de excepciones en persistencia** <br> Dado que ocurre un error al guardar cambios, <br> Cuando se captura la excepción, <br> Entonces debe propagarse con mensaje descriptivo, <br> Y no deben aplicarse cambios parciales.                                                                                                                                                                                                                                                                                                                                                                                                                              | EP10                    |
| TS21     | Command y Query Services                        | Como desarrollador, quiero implementar el patrón CQRS separando Commands y Queries para mantener separación de responsabilidades entre escritura y lectura.                                                                          | **Escenario 1: CommandServices manejan operaciones de escritura** <br> Dado que se implementa un CommandService, <br> Cuando se ejecuta un comando (Create, Update, Delete), <br> Entonces debe validar datos, modificar entidades y llamar a UnitOfWork, <br> Y debe retornar la entidad modificada o null. <br><br> **Escenario 2: QueryServices manejan operaciones de lectura** <br> Dado que se implementa un QueryService, <br> Cuando se ejecuta una query (GetById, GetAll, etc.), <br> Entonces solo debe consultar datos del repositorio, <br> Y no debe realizar modificaciones. <br><br> **Escenario 3: Commands validan reglas de negocio** <br> Dado que se ejecuta un CreateReserveCommand, <br> Cuando la fecha es inválida o faltan campos, <br> Entonces debe lanzar excepción con mensaje descriptivo, <br> Y no debe persistir datos inválidos. <br><br> **Escenario 4: Services usan inyección de dependencias** <br> Dado que un service requiere repositorio y UnitOfWork, <br> Cuando se construye el service, <br> Entonces las dependencias deben inyectarse por constructor. <br><br> **Escenario 5: Manejo consistente de entidades no encontradas** <br> Dado que se busca una entidad por ID, <br> Cuando no existe, <br> Entonces CommandServices deben retornar null, <br> Y el controller debe manejar el caso con 404.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | EP10                    |
| TS22     | Recursos REST y Assemblers                      | Como desarrollador, quiero implementar Resources y Assemblers para transformación de datos para separar el modelo de dominio de la representación REST API.                                                                          | **Escenario 1: Resources definen contratos de API** <br> Dado que se expone un endpoint REST, <br> Cuando se define la estructura de petición/respuesta, <br> Entonces debe crearse un Resource (DTO) que represente el contrato, <br> Y no debe exponer el modelo de dominio directamente. <br><br> **Escenario 2: Assemblers transforman Domain a Resource** <br> Dado que se necesita retornar datos al cliente, <br> Cuando se usa un FromEntityAssembler, <br> Entonces debe convertir entidad de dominio a Resource, <br> Y debe incluir solo campos necesarios para la API. <br><br> **Escenario 3: Assemblers transforman Resource a Command** <br> Dado que se recibe datos del cliente, <br> Cuando se usa un FromResourceAssembler, <br> Entonces debe convertir Resource a Command o Query, <br> Y debe validar formato de datos. <br><br> **Escenario 4: Conversión de enums y tipos especiales** <br> Dado que el dominio usa Enums o TimeSpan, <br> Cuando se convierte a Resource, <br> Entonces Enums deben convertirse a string, <br> Y TimeSpan debe convertirse a formato legible "HH:mm". <br><br> **Escenario 5: Resources inmutables con records** <br> Dado que se definen Resources, <br> Cuando se implementan, <br> Entonces deben usar records de C# para inmutabilidad, <br> Y deben usar init para propiedades.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | EP10                    |
| TS23     | Configuración de CORS y Swagger                 | Como desarrollador, quiero configurar CORS y documentación Swagger para permitir acceso desde el frontend y documentar la API.                                                                                                       | **Escenario 1: CORS permite todos los orígenes en desarrollo** <br> Dado que la aplicación está en modo Development, <br> Cuando se recibe petición de cualquier origen, <br> Entonces debe permitirse el acceso con política AllowAllPolicy, <br> Y debe permitir cualquier método y header. <br><br> **Escenario 2: Swagger UI disponible en desarrollo** <br> Dado que la aplicación está en modo Development, <br> Cuando se navega a /swagger, <br> Entonces debe mostrarse la interfaz de Swagger UI, <br> Y debe listar todos los endpoints disponibles. <br><br> **Escenario 3: Swagger incluye esquemas de seguridad JWT** <br> Dado que los endpoints requieren autenticación, <br> Cuando se visualiza en Swagger, <br> Entonces debe incluir botón "Authorize", <br> Y debe permitir agregar token Bearer en formato "Bearer {token}". <br><br> **Escenario 4: Documentación con annotations** <br> Dado que se usa Swashbuckle.AspNetCore.Annotations, <br> Cuando se agregan atributos [SwaggerOperation], <br> Entonces deben mostrarse descripciones personalizadas, <br> Y debe documentarse cada código de respuesta. <br><br> **Escenario 5: Swagger deshabilitado en producción** <br> Dado que la aplicación está en modo Production, <br> Cuando se intenta acceder a /swagger, <br> Entonces no debe estar disponible, <br> Y no debe exponerse información de la API.                                                                                                                                                                                                                                                                                                                                                                                                                                            | EP10                    |
| TS24     | Logging y manejo de errores                     | Como desarrollador, quiero implementar logging y manejo consistente de errores para facilitar debugging y proporcionar respuestas claras a los clientes.                                                                             | **Escenario 1: Logging de operaciones importantes** <br> Dado que se ejecuta una operación de escritura, <br> Cuando se crea, actualiza o elimina una entidad, <br> Entonces debe registrarse en logs con nivel Information, <br> Y debe incluir ID de entidad y operación realizada. <br><br> **Escenario 2: Logging de errores con detalles** <br> Dado que ocurre una excepción, <br> Cuando se captura en try-catch, <br> Entonces debe registrarse con nivel Error, <br> Y debe incluir stack trace y mensaje de excepción. <br><br> **Escenario 3: Respuestas de error consistentes** <br> Dado que ocurre un error de validación, <br> Cuando se retorna al cliente, <br> Entonces debe usar formato `{ "message": "..." }`, <br> Y debe incluir código de estado HTTP apropiado. <br><br> **Escenario 4: No exponer información sensible** <br> Dado que ocurre un error interno, <br> Cuando se responde al cliente, <br> Entonces no debe incluirse stack trace ni detalles de base de datos, <br> Y debe usarse mensaje genérico en producción. <br><br> **Escenario 5: Pipeline behavior para logging** <br> Dado que se usa LoggingCommandBehavior, <br> Cuando se ejecuta un command, <br> Entonces debe registrarse antes y después de la ejecución, <br> Y debe incluir tiempo de ejecución.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | EP10                    |
| TS25     | Validaciones de dominio en entidades            | Como desarrollador, quiero implementar validaciones de reglas de negocio en las entidades para garantizar integridad de datos y consistencia del dominio.                                                                            | **Escenario 1: Validación en constructores de entidades** <br> Dado que se crea una nueva entidad, <br> Cuando se pasan parámetros al constructor, <br> Entonces debe validarse que cumplan reglas de negocio, <br> Y debe lanzar excepción si son inválidos. <br><br> **Escenario 2: Validación de cambios de estado** <br> Dado que una reserva cambia de estado, <br> Cuando se llama a métodos como Complete() o Cancel(), <br> Entonces debe validarse que el estado actual permita la transición, <br> Y debe lanzar InvalidOperationException si no es válido. <br><br> **Escenario 3: Propiedades privadas con setters privados** <br> Dado que se definen propiedades en entidades, <br> Cuando se implementan, <br> Entonces deben tener setter privado para encapsulación, <br> Y solo deben modificarse mediante métodos públicos específicos. <br><br> **Escenario 4: Validación de reglas de negocio específicas** <br> Dado que un técnico actualiza su tarifa, <br> Cuando se valida el valor, <br> Entonces debe estar entre 10 y 500 soles, <br> Y debe lanzar excepción con mensaje descriptivo si no cumple. <br><br> **Escenario 5: Validación de relaciones entre entidades** <br> Dado que se asigna un técnico a una reserva, <br> Cuando se valida la operación, <br> Entonces debe verificarse que el técnico existe y está disponible, <br> Y debe lanzar excepción si la asignación no es válida.                                                                                                                                                                                                                                                                                                                                                                                                            | EP10                    |
| TS26     | Configuración de Entity Framework y migraciones | Como desarrollador, quiero configurar correctamente las migraciones de Entity Framework para gestionar cambios en el esquema de base de datos de forma controlada.                                                                   | **Escenario 1: EnsureCreated en desarrollo** <br> Dado que la aplicación inicia en modo Development, <br> Cuando no existe la base de datos, <br> Entonces debe crearse automáticamente usando context.Database.EnsureCreated(), <br> Y deben aplicarse todas las configuraciones del modelo. <br><br> **Escenario 2: Configuraciones de entidades aplicadas** <br> Dado que se definen IEntityTypeConfiguration para cada entidad, <br> Cuando se aplican en OnModelCreating, <br> Entonces deben configurarse restricciones, índices y relaciones, <br> Y deben respetarse en la base de datos. <br><br> **Escenario 3: Índices únicos configurados** <br> Dado que el email de usuario debe ser único, <br> Cuando se configura la entidad User, <br> Entonces debe crearse índice único en la columna email, <br> Y debe evitarse duplicados en base de datos. <br><br> **Escenario 4: Columnas con tipos específicos** <br> Dado que se usan decimales para precios y ratings, <br> Cuando se configura el modelo, <br> Entonces debe especificarse precisión correcta (ej: decimal(10,2)), <br> Y debe validarse en la base de datos. <br><br> **Escenario 5: Migraciones para cambios de esquema** <br> Dado que se modifica el modelo de dominio, <br> Cuando se genera una migración, <br> Entonces debe reflejar los cambios correctamente, <br> Y debe poder aplicarse sin pérdida de datos.                                                                                                                                                                                                                                                                                                                                                                                                                                  | EP10                    |

## 3.3. Impact Mapping.

![ChambaPro_ImpactMap.png](../../assets/chapter3/ChambaPro_ImpactMap.png)

## 3.4. Product Backlog.

| Orden | User Story Id | Título                                          | Descripción                                                                                                                                                                                                                          | Story Points |
|-------|---------------|-------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|
| 1     | US 14         | Filtrado por Tipo de Servicio                   | Como cliente, quiero filtrar técnicos por servicio para encontrar especialistas en lo que necesito                                                                                                                                   | 8            |
| 2     | US 17         | Visualizar perfil                               | Como cliente, quiero ver el perfil del técnico para conocer sus datos, experiencia y certificaciones                                                                                                                                 | 8            |
| 3     | US 15         | Filtrado por Técnico                            | Como cliente, quiero buscar un técnico por su nombre para contratar directamente a la persona que conozco                                                                                                                            | 5            |
| 4     | US 16         | Filtros combinados                              | Como cliente, quiero aplicar filtros combinados de categoría y ubicación para encontrar el técnico más adecuado                                                                                                                      | 5            |
| 5     | US 18         | Reseñas de clientes                             | Como cliente, quiero dejar mi reseña después de un servicio para compartir mi experiencia con otros                                                                                                                                  | 5            |
| 6     | US 19         | Métodos de pago                                 | Como cliente, quiero elegir entre diferentes métodos de pago para completar mi transacción                                                                                                                                           | 5            |
| 7     | US 20         | Confirmación de pago                            | Como cliente, quiero recibir confirmación de mi pago para tener seguridad de que la transacción fue exitosa                                                                                                                          | 5            |
| 8     | US 10         | Historial de servicios                          | Como usuario, quiero ver un historial de servicios solicitados para revisar mis actividades anteriores                                                                                                                               | 3            |
| 9     | US 11         | Agenda/Reservas                                 | Como técnico, quiero ver un calendario de reservas para organizar mi tiempo y evitar conflictos                                                                                                                                      | 3            |
| 10    | US 12         | Panel de estadísticas                           | Como técnico, quiero ver estadísticas de mis servicios para analizar mi desempeño                                                                                                                                                    | 3            |
| 11    | US 13         | Verificacion de Identidad de Tecnico            | Como técnico, quiero estar verificado en la plataforma para estar seguro de que tengo las certificaciones y experiencia requeridas para ejecutar el trabajo de una manera segura y profesional.                                      | 8            |
| 12    | US 01         | Ver descripción del producto                    | Como visitante quiero ver qué problema resuelve ChambaPro para entender cómo puede ayudarme                                                                                                                                          | 2            |
| 13    | US 04         | Ver beneficios para clientes                    | Como visitante que busca servicios quiero ver cómo ChambaPro me facilita encontrar técnicos confiables                                                                                                                               | 2            |
| 14    | US 05         | Ver beneficios para técnicos                    | Como visitante técnico quiero ver cómo ChambaPro me ayuda a conseguir más clientes y gestionar mis ingresos                                                                                                                          | 2            |
| 15    | US 06         | Ver botón de registro                           | Como visitante quiero un botón de "Regístrate" visible para iniciar el proceso fácilmente                                                                                                                                            | 2            |
| 16    | US 07         | Ver botón de contacto                           | Como visitante quiero tener acceso rápido a contacto con ChambaPro para resolver dudas                                                                                                                                               | 2            |
| 17    | US 08         | Registro de usuario                             | Como usuario, quiero registrar mis datos personales y correo electrónico para acceder a la plataforma                                                                                                                                | 1            |
| 18    | US 09         | Inicio de sesión                                | Como usuario, quiero iniciar sesión con mis credenciales para acceder a mi cuenta                                                                                                                                                    | 1            |
| 19    | US 02         | Conocer al equipo fundador                      | Como visitante quiero conocer a los integrantes del equipo para confiar más en la startup                                                                                                                                            | 1            |
| 20    | US 03         | Ver misión y visión                             | Como visitante quiero conocer la misión y visión de la startup para comprender su propósito                                                                                                                                          | 1            |
| 21    | TS 01         | Obtener reservas por cliente o técnico          | Como desarrollador, quiero obtener las reservas filtradas por clientId o technicianId a través del endpoint RESTful `/api/v1/reservations` para construir las vistas de reservas del cliente y del técnico en el frontend.           | 1            |
| 22    | TS 02         | Crear nueva reserva                             | Como desarrollador, quiero crear una nueva reserva a través del endpoint RESTful `/api/v1/reservations` para que los clientes puedan registrar solicitudes de servicio desde el frontend.                                            | 1            |
| 23    | TS 03         | Actualizar reserva existente                    | Como desarrollador, quiero actualizar una reserva existente a través del endpoint RESTful `/api/v1/reservations/{id}` para permitir modificaciones de estado, asignación de técnicos y cambios de información.                       | 1            |
| 24    | TS 04         | Cancelar reserva                                | Como desarrollador, quiero cancelar una reserva a través del endpoint RESTful `/api/v1/reservations/{id}/cancel` para permitir que clientes y técnicos cancelen servicios cuando sea necesario.                                      | 1            |
| 25    | TS 05         | Obtener servicios por cliente o técnico         | Como desarrollador, quiero obtener los servicios filtrados por clientId o technicianId a través del endpoint RESTful `/api/v1/services` para mostrar el historial de servicios en las vistas de cliente y técnico.                   | 1            |
| 26    | TS 06         | Crear nuevo servicio                            | Como desarrollador, quiero crear un nuevo servicio a través del endpoint RESTful `/api/v1/services` para registrar servicios acordados entre cliente y técnico en la base de datos.                                                  | 1            |
| 27    | TS 07         | Actualizar estado de servicio                   | Como desarrollador, quiero actualizar el estado de un servicio a través de endpoints RESTful específicos para permitir confirmar, completar o cancelar servicios según el flujo de trabajo.                                          | 1            |
| 28    | TS 08         | Obtener reseñas de un técnico                   | Como desarrollador, quiero obtener las reseñas de un técnico a través del endpoint RESTful `/api/v1/review/technician/{technicianId}` para mostrar las calificaciones y comentarios en el perfil del técnico.                        | 1            |
| 29    | TS 09         | Crear nueva reseña                              | Como desarrollador, quiero crear una nueva reseña a través del endpoint RESTful `/api/v1/review` para permitir que los clientes califiquen y comenten sobre los servicios recibidos.                                                 | 1            |
| 30    | TS 10         | Obtener perfil de usuario autenticado           | Como desarrollador, quiero obtener el perfil del usuario actual a través del endpoint RESTful `/api/v1/users/me` para mostrar la información del usuario autenticado en el frontend.                                                 | 1            |
| 31    | TS 11         | Actualizar perfil de usuario                    | Como desarrollador, quiero actualizar el perfil de usuario a través del endpoint RESTful `/api/v1/users/{id}/profile` para permitir que los usuarios modifiquen su información personal.                                             | 1            |
| 32    | TS 12         | Actualizar perfil de técnico                    | Como desarrollador, quiero actualizar el perfil profesional de un técnico a través del endpoint RESTful `/api/v1/users/{id}/technician-profile` para permitir que los técnicos gestionen su información profesional específica.      | 1            |
| 33    | TS 13         | Obtener todos los técnicos                      | Como desarrollador, quiero obtener la lista de todos los técnicos a través del endpoint RESTful `/api/v1/users/technicians` para mostrar los técnicos disponibles en el marketplace del frontend.                                    | 1            |
| 34    | TS 14         | Obtener técnicos por especialidad               | Como desarrollador, quiero obtener técnicos filtrados por especialidad a través del endpoint RESTful `/api/v1/users/technicians/by-speciality/{speciality}` para permitir búsquedas específicas por tipo de servicio en el frontend. | 1            |
| 35    | TS 15         | Registro de usuario (Sign Up)                   | Como desarrollador, quiero registrar nuevos usuarios a través del endpoint RESTful `/api/v1/authentication/sign-up` para permitir que clientes y técnicos creen cuentas en el sistema.                                               | 1            |
| 36    | TS 16         | Inicio de sesión (Sign In)                      | Como desarrollador, quiero autenticar usuarios a través del endpoint RESTful `/api/v1/authentication/sign-in` para permitir el acceso seguro al sistema con JWT.                                                                     | 1            |
| 37    | TS 17         | Middleware de autorización                      | Como desarrollador, quiero implementar un middleware de autorización basado en JWT para proteger endpoints que requieren autenticación.                                                                                              | 1            |
| 38    | TS 18         | Encriptación de contraseñas                     | Como desarrollador, quiero implementar encriptación segura de contraseñas usando BCrypt para proteger las credenciales de los usuarios en la base de datos.                                                                          | 1            |
| 39    | TS 19         | Configuración de base de datos y DbContext      | Como desarrollador, quiero configurar correctamente el DbContext con MySQL para gestionar la persistencia de datos y migraciones de la base de datos.                                                                                | 1            |
| 40    | TS 20         | Repositorios base y Unit of Work                | Como desarrollador, quiero implementar el patrón Repository y Unit of Work para abstraer el acceso a datos y gestionar transacciones.                                                                                                | 1            |
| 41    | TS 21         | Command y Query Services                        | Como desarrollador, quiero implementar el patrón CQRS separando Commands y Queries para mantener separación de responsabilidades entre escritura y lectura.                                                                          | 1            |
| 42    | TS 22         | Recursos REST y Assemblers                      | Como desarrollador, quiero implementar Resources y Assemblers para transformación de datos para separar el modelo de dominio de la representación REST API.                                                                          | 1            |
| 43    | TS 23         | Configuración de CORS y Swagger                 | Como desarrollador, quiero configurar CORS y documentación Swagger para permitir acceso desde el frontend y documentar la API.                                                                                                       | 1            |
| 44    | TS 24         | Logging y manejo de errores                     | Como desarrollador, quiero implementar logging y manejo consistente de errores para facilitar debugging y proporcionar respuestas claras a los clientes.                                                                             | 1            |
| 45    | TS 25         | Validaciones de dominio en entidades            | Como desarrollador, quiero implementar validaciones de reglas de negocio en las entidades para garantizar integridad de datos y consistencia del dominio.                                                                            | 1            |
| 46    | TS 26         | Configuración de Entity Framework y migraciones | Como desarrollador, quiero configurar correctamente las migraciones de Entity Framework para gestionar cambios en el esquema de base de datos de forma controlada.                                                                   | 1            |